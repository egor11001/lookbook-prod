{"version":3,"file":"static/js/54.eb13ec29.chunk.js","mappings":"8NACA,G,gBAA0B,mCAA1B,EAAkE,8BAAlE,EAAuG,+BAAvG,EAAkJ,oCAAlJ,EAA8L,gCAA9L,EAAwO,kCAAxO,EAAmR,iCAAnR,EAA4T,gCAA5T,EAA0W,sCAA1W,EAAwZ,gCAAxZ,EAAgc,gCAAhc,EAAue,+BAAve,EAA8gB,gCAA9gB,EAAsjB,gCAAtjB,EAA8lB,gCAA9lB,EAAuoB,iCAAvoB,EAAsrB,sCAAtrB,EAAquB,iC,6BC2GruB,EA/FyB,WACvB,IAAMA,GAAWC,EAAAA,EAAAA,MAEjB,GAA0BC,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAoCF,EAAAA,EAAAA,UAAS,GAA7C,eAAOG,EAAP,KAAmBC,EAAnB,KAiBA,OANAC,EAAAA,EAAAA,YAAU,YACRC,EAAAA,EAAAA,MAAYC,MAAK,SAACC,GAChBN,EAASM,EAAK,GAAGC,aACjBL,EAAcI,EAAK,GAAGE,YAEvB,KAED,iBAAKC,GAAG,eAAeC,UAAWC,EAAlC,WACE,iBAAKD,UAAWC,EAAhB,WACE,mBAAQC,QAAS,kBAAMhB,GAAU,IAAIc,UAAWC,EAAhD,UACE,SAACE,EAAA,EAAD,CAAiBH,UAAWC,OAG9B,eAAID,UAAWC,EAAf,4DAGF,gBAAKD,UAAWC,EAAhB,SACGZ,GAASA,EAAMe,OAAS,GACvB,SAAC,KAAD,CACEC,WAAY,CACVC,gBAAgB,GAElBC,aAAc,GACdC,cAAe,OACfC,gBAAgB,EAChBC,QAAS,CAACC,EAAAA,IACVX,UAAWC,EARb,SASGZ,EAAMuB,KAAI,SAACC,EAAMC,GAAP,OACT,UAAC,KAAD,CACEZ,QAAS,kBAAMhB,EAAS,IAAD,OAAK2B,EAAKE,gBAAV,YAA6BF,EAAKG,QAAQjB,MACjEC,UAAWC,EAFb,WAIE,mBACEC,QAAS,SAACe,GA1CP,IAACrB,EA2CFqB,EAAEC,kBA3CAtB,EA4CS,CAAEoB,QAASH,EAAKG,QAAQjB,GAAIoB,KAAMN,EAAKM,OA3ClEC,EAAAA,EAAAA,IAAiBxB,GAAMD,MAAK,YAC1BD,EAAAA,EAAAA,MAAYC,MAAK,SAACC,GAChBN,EAASM,EAAK,GAAGC,aACjBL,EAAcI,EAAK,GAAGE,cAqCd,UAKE,SAAC,KAAD,CAAMuB,KAAM,uBAAwBrB,UAAWC,OAEjD,gBACEqB,IAAKT,EAAKG,QAAQO,cAAcC,QAAO,SAACC,GAAD,OAAWA,EAAMC,cAAY,GAAGC,MACvEC,IAAKf,EAAKG,QAAQO,cAAcC,QAAO,SAACC,GAAD,OAAWA,EAAMC,cAAY,GAAGG,SACvE7B,UAAWC,KAEb,eAAID,UAAWC,EAAf,SAA8BY,EAAKG,QAAQc,UAC3C,eAAI9B,UAAWC,EAAf,SAA6BY,EAAKG,QAAQe,SAC1C,iBAAK/B,UAAWC,EAAhB,WACE,gBAAID,UAAWC,EAAf,UAA8BY,EAAKmB,SAAnC,qBACA,eAAIhC,UAAWC,EAAf,SAA8BY,EAAKM,QACnC,gBAAInB,UAAWC,EAAf,UAA8BY,EAAKG,QAAQiB,cAA3C,kBAlBGnB,SAwBX,SAACoB,EAAA,EAAD,MAIH7C,GAASA,EAAMe,OAAS,GACvB,iCACE,gBAAIJ,UAAWC,EAAf,WACE,0BACGZ,EAAMuB,KAAI,SAACC,GAAD,OAAUA,EAAKmB,YAAUG,QAAO,SAACC,EAAMC,GAAP,OAAeD,EAAOC,MAAQ,MACnE,IAHV,iDAMA,gBAAIrC,UAAWC,EAAf,WACE,8DACCV,GAAc,EAFjB,cAIA,mBAAQW,QAAS,kBAAMhB,EAAS,iBAAiBc,UAAWC,EAA5D,+HAIA","sources":["webpack://lookbook/./src/scss/components/Mobile/BasketPageMobile.module.scss?b6cf","pages/Mobile/BasketPageMobile.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"BasketPageMobile_wrapper__qJSPK\",\"top\":\"BasketPageMobile_top__XUAQR\",\"back\":\"BasketPageMobile_back__FYw4o\",\"back_icon\":\"BasketPageMobile_back_icon__ovyfJ\",\"title\":\"BasketPageMobile_title__WPU3S\",\"content\":\"BasketPageMobile_content__YJHL0\",\"swiper\":\"BasketPageMobile_swiper__8-oBd\",\"slide\":\"BasketPageMobile_slide__GVNyI\",\"remove_icon\":\"BasketPageMobile_remove_icon__DA+x+\",\"photo\":\"BasketPageMobile_photo__SG6RJ\",\"brand\":\"BasketPageMobile_brand__iWtj0\",\"type\":\"BasketPageMobile_type__ICgAH\",\"block\":\"BasketPageMobile_block__cTph4\",\"count\":\"BasketPageMobile_count__1XU3M\",\"price\":\"BasketPageMobile_price__VFCay\",\"counts\":\"BasketPageMobile_counts__1fb0j\",\"total_price\":\"BasketPageMobile_total_price__SOTmQ\",\"submit\":\"BasketPageMobile_submit__q2oLy\"};","import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router';\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\nimport { Swiper, SwiperSlide } from 'swiper/react';\nimport { Pagination } from 'swiper';\nimport { Icon } from '@iconify/react';\n\nimport 'swiper/css';\nimport 'swiper/css/pagination';\nimport styles from '../../scss/components/Mobile/BasketPageMobile.module.scss';\nimport EmptyMobile from '../../components/Mobile/EmptyMobile';\nimport { getBasket, removeFromBasket } from '../../services/actions';\n\nconst BasketPageMobile = () => {\n  const navigate = useNavigate();\n\n  const [items, setItems] = useState(null);\n  const [totalPrice, setTotalPrice] = useState(0);\n\n  const deleteItem = (data) => {\n    removeFromBasket(data).then(() => {\n      getBasket().then((data) => {\n        setItems(data[0].basket_item);\n        setTotalPrice(data[0].total);\n      });\n    });\n  };\n\n  useEffect(() => {\n    getBasket().then((data) => {\n      setItems(data[0].basket_item);\n      setTotalPrice(data[0].total);\n    });\n  }, []);\n  return (\n    <div id=\"BasketMobile\" className={styles.wrapper}>\n      <div className={styles.top}>\n        <button onClick={() => navigate(-1)} className={styles.back}>\n          <ChevronLeftIcon className={styles.back_icon} />\n        </button>\n\n        <h3 className={styles.title}>Корзина</h3>\n      </div>\n\n      <div className={styles.content}>\n        {items && items.length > 0 ? (\n          <Swiper\n            pagination={{\n              dynamicBullets: true,\n            }}\n            spaceBetween={60}\n            slidesPerView={'auto'}\n            centeredSlides={true}\n            modules={[Pagination]}\n            className={styles.swiper}>\n            {items.map((item, index) => (\n              <SwiperSlide\n                onClick={() => navigate(`/${item.productvendorId}/${item.product.id}`)}\n                className={styles.slide}\n                key={index}>\n                <button\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    deleteItem({ product: item.product.id, size: item.size });\n                  }}>\n                  <Icon icon={'akar-icons:trash-can'} className={styles.remove_icon} />\n                </button>\n                <img\n                  src={item.product.product_image.filter((photo) => photo.is_feature)[0].image}\n                  alt={item.product.product_image.filter((photo) => photo.is_feature)[0].alt_text}\n                  className={styles.photo}\n                />\n                <h1 className={styles.brand}>{item.product.vendor}</h1>\n                <h3 className={styles.type}>{item.product.title}</h3>\n                <div className={styles.block}>\n                  <h5 className={styles.count}>{item.quantity} шт.</h5>\n                  <h5 className={styles.count}>{item.size}</h5>\n                  <h2 className={styles.price}>{item.product.regular_price} ₽</h2>\n                </div>\n              </SwiperSlide>\n            ))}\n          </Swiper>\n        ) : (\n          <EmptyMobile />\n        )}\n      </div>\n\n      {items && items.length > 0 ? (\n        <>\n          <h2 className={styles.counts}>\n            <span>\n              {items.map((item) => item.quantity).reduce((prev, cur) => prev + cur) || '0'}\n            </span>{' '}\n            товаров\n          </h2>\n          <h1 className={styles.total_price}>\n            <span>Итого:</span>\n            {totalPrice || 0} ₽\n          </h1>\n          <button onClick={() => navigate('/my/ordering')} className={styles.submit}>\n            Перейти к оформлению\n          </button>\n        </>\n      ) : null}\n    </div>\n  );\n};\n\nexport default BasketPageMobile;\n"],"names":["navigate","useNavigate","useState","items","setItems","totalPrice","setTotalPrice","useEffect","getBasket","then","data","basket_item","total","id","className","styles","onClick","ChevronLeft","length","pagination","dynamicBullets","spaceBetween","slidesPerView","centeredSlides","modules","Pagination","map","item","index","productvendorId","product","e","stopPropagation","size","removeFromBasket","icon","src","product_image","filter","photo","is_feature","image","alt","alt_text","vendor","title","quantity","regular_price","EmptyMobile","reduce","prev","cur"],"sourceRoot":""}