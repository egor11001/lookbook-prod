{"version":3,"file":"static/js/719.8092a6db.chunk.js","mappings":"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","sources":["webpack://lookbook/./src/scss/components/Desctop/BasketPage.module.scss?092c","webpack://lookbook/./src/scss/components/Desctop/BasketItem.module.scss?3bc4","components/Desctop/BasketItem.jsx","pages/Desctop/BasketPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"BasketPage_wrapper__IOnJs\",\"top\":\"BasketPage_top__qe-HN\",\"top_left\":\"BasketPage_top_left__1VOod\",\"back\":\"BasketPage_back__qQ5lu\",\"back_icon\":\"BasketPage_back_icon__CWcbV\",\"title\":\"BasketPage_title__FemTV\",\"top_right\":\"BasketPage_top_right__SujDZ\",\"title_small\":\"BasketPage_title_small__tOHdq\",\"block\":\"BasketPage_block__PT6Vp\",\"counts\":\"BasketPage_counts__MNLLZ\",\"total_price\":\"BasketPage_total_price__tWGBg\",\"content\":\"BasketPage_content__l7Kut\",\"submit\":\"BasketPage_submit__p5cVK\"};","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"BasketItem_wrapper__gNFVr\",\"left\":\"BasketItem_left__opgzk\",\"photo\":\"BasketItem_photo__5Yp8m\",\"infos\":\"BasketItem_infos__gR2Pa\",\"brand\":\"BasketItem_brand__yF37s\",\"type\":\"BasketItem_type__oyc+n\",\"count\":\"BasketItem_count__vZ6UB\",\"right\":\"BasketItem_right__aI6YS\",\"price\":\"BasketItem_price__H+CJ8\",\"remove_btn\":\"BasketItem_remove_btn__VKjcU\",\"remove_icon\":\"BasketItem_remove_icon__BREPp\"};","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Icon } from '@iconify/react';\r\n\r\nimport styles from '../../scss/components/Desctop/BasketItem.module.scss';\r\n\r\nconst BasketItem = ({ photo, size, brand, type, count, price, itemId, vendorId, deleteItem }) => {\r\n  const handleDelete = (e) => {\r\n    e.preventDefault();\r\n    deleteItem({ product: itemId, size: size });\r\n  };\r\n  return (\r\n    <Link to={`/${vendorId}/${itemId}`} className={styles.wrapper}>\r\n      <div className={styles.left}>\r\n        <img\r\n          src={photo.filter((photo) => photo.is_feature)[0].image}\r\n          alt={photo.filter((photo) => photo.is_feature)[0].alt_text}\r\n          className={styles.photo}\r\n        />\r\n        <div className={styles.infos}>\r\n          <h3 className={styles.brand}>{brand}</h3>\r\n          <h1 className={styles.type}>{type}</h1>\r\n          <h1 className={styles.count}>{size}</h1>\r\n          <h5 className={styles.count}>{count} шт.</h5>\r\n        </div>\r\n      </div>\r\n      <div className={styles.right}>\r\n        <h1 className={styles.price}>{price}</h1>\r\n        <button onClick={handleDelete} className={styles.remove_btn}>\r\n          <Icon icon={'akar-icons:trash-can'} className={styles.remove_icon} />\r\n        </button>\r\n      </div>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default BasketItem;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router';\r\nimport { Icon } from '@iconify/react';\r\n\r\nimport styles from '../../scss/components/Desctop/BasketPage.module.scss';\r\nimport BasketItem from '../../components/Desctop/BasketItem';\r\nimport Empty from '../../components/Desctop/Empty';\r\nimport { getBasket, removeFromBasket } from '../../services/actions';\r\n\r\nconst BasketPage = () => {\r\n  const navigate = useNavigate();\r\n  const [items, setItems] = useState(null);\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n\r\n  const deleteItem = (data) => {\r\n    removeFromBasket(data).then(() => {\r\n      getBasket().then((data) => {\r\n        setItems(data[0].basket_item);\r\n        setTotalPrice(data[0].total);\r\n      });\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getBasket().then((data) => {\r\n      setItems(data[0].basket_item);\r\n      setTotalPrice(data[0].total);\r\n    });\r\n  }, []);\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <div className={styles.top}>\r\n        <div className={styles.block}>\r\n          <button onClick={() => navigate(-1)} className={styles.back}>\r\n            <Icon icon={'bi:arrow-left'} className={styles.back_icon} />\r\n          </button>\r\n\r\n          <h3 className={styles.title}>Корзина</h3>\r\n        </div>\r\n\r\n        <h2 className={styles.counts}>\r\n          <span>{items?.length || '0'}</span> товаров\r\n        </h2>\r\n        <h3 className={styles.total_price}>\r\n          Итого: <span>{totalPrice || 0} ₽</span>\r\n        </h3>\r\n      </div>\r\n      <div className={styles.content}>\r\n        {items && items.length > 0 ? (\r\n          items.map((item, index) => (\r\n            <BasketItem\r\n              key={index}\r\n              itemId={item.product.id}\r\n              size={item.size}\r\n              vendorId={item.product.vendor_id}\r\n              photo={item.product.product_image}\r\n              type={item.product.title}\r\n              brand={item.product?.vendor}\r\n              price={item.product.regular_price}\r\n              count={item.quantity}\r\n              deleteItem={deleteItem}\r\n            />\r\n          ))\r\n        ) : (\r\n          <Empty />\r\n        )}\r\n      </div>\r\n      {items && items.length > 0 ? (\r\n        <button onClick={() => navigate('/my/ordering')} className={styles.submit}>\r\n          Перейти к оформлению\r\n        </button>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BasketPage;\r\n"],"names":["photo","size","brand","type","count","price","itemId","vendorId","deleteItem","to","className","styles","src","filter","is_feature","image","alt","alt_text","onClick","e","preventDefault","product","icon","navigate","useNavigate","useState","items","setItems","totalPrice","setTotalPrice","data","removeFromBasket","then","getBasket","basket_item","total","useEffect","length","map","item","index","id","vendor_id","product_image","title","vendor","regular_price","quantity","Empty"],"sourceRoot":""}